<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.memBuenasA = undefined;
global.memBuenasB = undefined;
global.memMalasA[0] = 0;
global.memMalasB[0] = 0;
global.contMemBuenas = 0;
global.contMemMalas = 0;
global.origen = "testing";
global.malasSeguidas=0;

global.wave = 1;
global.waveFake = 1;
global.waveUltraFake = 1;

global.nEjercicios=global.maxB-global.minA+1;
global.nTests=global.nEjercicios/2;
for(i=0;i&lt;(global.maxB-global.minA+1);i++){
    global.numero[i]=global.minA+i;
}

global.feedback = 0 ;
global.revision = 0;

var dist = 1;
for(i=global.sets;i&lt;125;i++){
    global.eFacil[i]=global.eFacil[i-dist];
    global.eMedio[i]=global.eMedio[i-dist];
    global.eDificil[i]=global.eDificil[i-dist];
    dist++;
}
global.sets = 125;
for(i=0;i&lt;global.setMemoria;i++){
    global.eBuenas[i]=0;
    global.eMalas[i]=0;
}
for(i=global.setMemoria;i&lt;global.sets;i++){
    global.eBuenas[i]=round(global.eFacil[i]*global.nBuenas);
    global.eMalas[i]=round(global.eDificil[i]*global.nMalas);
}


global.ws = 0; //creo q se puede quitar
global.alternativa=choose(floor(random_range(1,5)));
global.correctas=0;
global.incorrectas=0;
global.idUser="";
global.puntaje=0; //SCORE
global.numM=0; //ALTERNATIVA
global.cont=0;
global.ccont=0;
global.alarma = 0;
global.bot = 0;
global.bot2 =0;
global.alturas=choose(floor(random_range(0,4)));
global.ejercicio = 0;
global.nrondas=0; //RONDAS SEGUIDAS
global.nrondasc=0
global.contadorcito = 2;

global.dificultad = -1;
//DIFICULTAD POR SET DE RONDAS
global.numeros = undefined;


//OCURRENCIAS MALAS
for(i=global.minA;i&lt;=global.maxB;i++){
    global.oBuenas[i]=0;
}
global.iF = 0;
global.iM = 0;
global.iD = 0;


global.estado = "omitida";
global.intentos = 0;
global.numEjercicio = 1;
global.respondida = 0;
global.segundos = 0;
global.aparicionCorrecta = 0;
global.tiempoUltimaRespuesta = 0;

global.bigMap = ds_map_create();
global.intentosRonda = ds_map_create();
global.dificultadesMap = ds_map_create();

global.faciles = undefined;
global.medios = undefined;
global.dificiles = undefined;


var locura=0;
for(z=1; z&lt;=1000; z++){

    randomize();
    show_debug_message("Z = ");
    show_debug_message(z);
    if(global.wave==global.nEjercicios+1){
        global.existeF=0;
        global.existeM=0;
        global.existeD=0;
        for(i=global.minA;i&lt;=global.maxB;i++){
            
            if(global.oBuenas[i]==2){
                global.faciles[global.iF]=i;
                global.iF++;
                global.existeF=1;
            }
            if(global.oBuenas[i]==1){
                global.medios[global.iM]=i;
                global.iM++;
                global.existeM=1;
            }
            if(global.oBuenas[i]==0){
                global.dificiles[global.iD]=i;
                global.iD++;
                global.existeD=1;
            }
            
        }
        
        
        if(global.existeF!=0 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==0){
            for(i=0;i&lt;global.sets;i++){
                global.eFacil[i]=8;
                global.eMedio[i]=0;
                global.eDificil[i]=0;
            }
        }
        if(global.existeF==0 &amp;&amp; global.existeM!=0 &amp;&amp; global.existeD==0){
            for(i=0;i&lt;global.sets;i++){
                global.eFacil[i]=0;
                global.eMedio[i]=8;
                global.eDificil[i]=0;
            }
        }
        if(global.existeF!=0 &amp;&amp; global.existeM!=0 &amp;&amp; global.existeD==0){
            for(i=0;i&lt;global.sets;i++){
                var flag = global.eDificil[i];
                global.eDificil[i]=0;
                global.eMedio[i]=global.eMedio[i]+flag;
            }
        }
        if(global.existeF==0 &amp;&amp; global.existeM!=0 &amp;&amp; global.existeD!=0){
            for(i=0;i&lt;global.sets;i++){
                var flag = global.eFacil[i];
                global.eFacil[i]=0;
                global.eMedio[i]=global.eMedio[i]+flag;
            }
        }
        if(global.existeF!=0 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD!=0){
            for(i=0;i&lt;global.sets;i++){
                var flag = global.eMedio[i];
                global.eMedio[i]=0;
                global.eDificil[i]=global.eDificil[i]+flag;
            }
        }
    }
    if(global.waveUltraFake==global.nEjercicios+1){
        global.waveUltraFake=1;
        global.dificultad++;
        //AJUSTAR CANTIDAD TOTAL
        if(global.memMalasA==undefined || global.memMalasA[0]==0){
            global.eMalas[global.dificultad]=0;
        }
        else{
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eDificil[global.dificultad]=global.eDificil[global.dificultad]-global.eMalas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==0){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]-global.eMalas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]-global.eMalas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]-global.eMalas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eDificil[global.dificultad]=global.Dificil[global.dificultad]-global.eMalas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==1){
                global.eDificil[global.dificultad]=global.Dificil[global.dificultad]-global.eMalas[global.dificultad];
            }
        }
        if(global.memBuenasA==undefined || global.memBuenasA[0]==0){
            global.eBuenas[global.dificultad]=0;
        }
        else{
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]-global.eBuenas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==0){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]-global.eBuenas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]-global.eBuenas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]-global.eBuenas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]-global.eBuenas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==1){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]-global.eBuenas[global.dificultad];
            }
        }
        //FIN AJUSTE
        
        if(global.existeF==1){
            show_debug_message("FACILES: ");
            show_debug_message(global.faciles);
            var size = array_length_1d(global.faciles);
            var i,j,k;
            for(i=0;i&lt;size;i++){
                j=irandom_range(i,size-1);
                if(i!=j){
                    k=global.faciles[i];
                    global.faciles[i]=global.faciles[j];
                    global.faciles[j]=k;
                    
                }
            }
        }
        if(global.existeM==1){
            show_debug_message("MEDIOS: ");
            show_debug_message(global.medios);
            var size = array_length_1d(global.medios);
            var i,j,k;
            for(i=0;i&lt;size;i++){
                j=irandom_range(i,size-1);
                if(i!=j){
                    k=global.medios[i];
                    global.medios[i]=global.medios[j];
                    global.medios[j]=k;
                    
                }
            }
        }
        if(global.existeD==1){
            show_debug_message("DIFICILES: ");
            show_debug_message(global.dificiles);
            var size = array_length_1d(global.dificiles);
            var i,j,k;
            for(i=0;i&lt;size;i++){
                j=irandom_range(i,size-1);
                if(i!=j){
                    k=global.dificiles[i];
                    global.dificiles[i]=global.dificiles[j];
                    global.dificiles[j]=k;
                    
                }
            }
        }
    }
    if(global.dificultad&gt;=0){show_debug_message("EJERCICIOS BUENOS POR SALIR: ");show_debug_message(global.eBuenas[global.dificultad]);}
    if(global.dificultad&gt;=0){show_debug_message("EJERCICIOS FACILES POR SALIR: ");show_debug_message(global.eFacil[global.dificultad]);}
    if(global.dificultad&gt;=0){show_debug_message("EJERCICIOS MEDIOS POR SALIR: ");show_debug_message(global.eMedio[global.dificultad]);}
    if(global.dificultad&gt;=0){show_debug_message("EJERCICIOS DIFICLES POR SALIR: ");show_debug_message(global.eDificil[global.dificultad]);}
    if(global.dificultad&gt;=0){show_debug_message("EJERCICIOS MALOS POR SALIR: ");show_debug_message(global.eMalas[global.dificultad]);}
    show_debug_message("Ronda");
    show_debug_message(global.dificultad+1);
    show_debug_message("Ejercicio");
    show_debug_message(global.waveUltraFake);
    //PRIMER EJERCICIO DE LA PARTIDA
    //FIN
        if(global.waveFake==global.nTests+1){
        global.waveFake=1;
    }
    if(z&gt;=1){
            if(global.dificultad&lt;0){
                if(global.waveFake==1){
                    global.numeros = undefined;
                    global.a = choose(floor(random_range(global.minA,global.maxB)));
                    global.numeros[0]=global.a;
                    var aux=0;
                    var ii=0;
                    var arrayFake = undefined;
                    for(i=0;i&lt;array_length_1d(global.numero);i++){
                        aux=0;
                        for(j=0;j&lt;array_length_1d(global.numeros);j++){
                            if(global.numero[i]==global.numeros[j]){
                                aux=1;
                                break;
                            }
                        }
                        if(aux==0){
                            arrayFake[ii]=global.numero[i];
                            ii++;
                        }
                    }
                    var largo = array_length_1d(arrayFake)-1;
                    var indice = choose(floor(random_range(0,largo)));
                    global.b = arrayFake[indice];
                    global.numeros[1]=global.b;
                    global.r = global.a*global.b;
                    
                    
                    
                }
                if(global.waveFake&gt;1){
                    var aux=0;
                    var ii=0;
                    var arrayFake=undefined;
                    for(i=0;i&lt;array_length_1d(global.numero);i++){
                        aux=0;
                        for(j=0;j&lt;array_length_1d(global.numeros);j++){
                            if(global.numero[i]==global.numeros[j]){
                                aux=1;
                                break;
                            }
                        }
                        if(aux==0){
                            arrayFake[ii]=global.numero[i];
                            ii++;
                        }
                    }
                    var largo = array_length_1d(arrayFake)-1;
                    var indice = choose(floor(random_range(0,largo)));
                    global.a = arrayFake[indice];
                    global.numeros[global.contadorcito]=global.a;
                    global.contadorcito++;
                    
                    var aux=0;
                    var ii=0;
                    var arrayFake=undefined;
                    for(i=0;i&lt;array_length_1d(global.numero);i++){
                        aux=0;
                        for(j=0;j&lt;array_length_1d(global.numeros);j++){
                            if(global.numero[i]==global.numeros[j]){
                                aux=1;
                                break;
                            }
                        }
                        if(aux==0){
                            arrayFake[ii]=global.numero[i];
                            ii++;
                        }
                    }
                    var largo = array_length_1d(arrayFake)-1;
                    var indice = choose(floor(random_range(0,largo)));
                    global.b = arrayFake[indice];
                    global.numeros[global.contadorcito]=global.b;
                    global.contadorcito++;
                    global.r = global.a*global.b;
                }
            }
            if(global.dificultad&gt;=0){
                //SELECCION DE B
                if(global.waveUltraFake==1){
                    for(i=0;i&lt;array_length_1d(global.numeros);i++){
                        global.numeros[i]=0;
                    }
                    global.b = choose(floor(random_range(global.minA,global.maxB)));
                    global.numeros[0]=global.b;
                    global.contadorcito = 1;
                }
                if(global.waveUltraFake&gt;1){
                    var aux=0;
                    var ii=0;
                    var arrayFake;
                    for(i=0;i&lt;array_length_1d(global.numero);i++){
                        aux=0;
                        for(j=0;j&lt;array_length_1d(global.numeros);j++){
                            if(global.numero[i]==global.numeros[j]){
                                aux=1;
                                break;
                            }
                        }
                        if(aux==0){
                            arrayFake[ii]=global.numero[i];
                            ii++;
                        }
                    }
                    var largo = array_length_1d(arrayFake)-1;
                    var indice = choose(floor(random_range(0,largo)));
                    global.b = arrayFake[indice];
                    global.numeros[global.contadorcito]=global.b;
                    global.contadorcito++;
                    
                }
            
                
        if(global.memMalasA==undefined || global.memMalasA[0]==0){
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eDificil[global.dificultad]=global.eDificil[global.dificultad]+global.eMalas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==0){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]+global.eMalas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]+global.eMalas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]+global.eMalas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eDificil[global.dificultad]=global.Dificil[global.dificultad]+global.eMalas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==1){
                global.eDificil[global.dificultad]=global.Dificil[global.dificultad]+global.eMalas[global.dificultad];
            }
            global.eMalas[global.dificultad]=0;
        }
        if(global.memBuenasA==undefined || global.memBuenasA[0]==0){
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]+global.eBuenas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==0){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]+global.eBuenas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]+global.eBuenas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==0){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]+global.eBuenas[global.dificultad];
            }
            if(global.existeF==0 &amp;&amp; global.existeM==1 &amp;&amp; global.existeD==1){
                global.eMedio[global.dificultad]=global.eMedio[global.dificultad]+global.eBuenas[global.dificultad];
            }
            if(global.existeF==1 &amp;&amp; global.existeM==0 &amp;&amp; global.existeD==1){
                global.eFacil[global.dificultad]=global.eFacil[global.dificultad]+global.eBuenas[global.dificultad];
            }
            global.eBuenas[global.dificultad]=0;
        }
                
                //SELECCION DE A o A Y B
                //ORDEN EN QUE SALEN
                randomize()
                var ordenRandom = choose(floor(random_range(1,5)));
                if(ordenRandom==1){
                    if(global.eBuenas[global.dificultad]&gt;0){
                        global.origen = "memoria_buenas";
                        global.a=global.memBuenasA[0];
                        global.b=global.memBuenasB[0];
                        var numa=global.memBuenasA[0];
                        var numb=global.memBuenasB[0];
                        for(x= 0; x&lt;array_length_1d(global.memBuenasA)-1; x++){
                            global.memBuenasA[x] = global.memBuenasA[x+1];
                            global.memBuenasB[x] = global.memBuenasB[x+1];
                        }
                        global.memBuenasA[array_length_1d(global.memBuenasA)-1]= numa;
                        global.memBuenasB[array_length_1d(global.memBuenasB)-1]= numb;
                        global.eBuenas[global.dificultad]--;
                    }
                    else {
                        if(global.eFacil[global.dificultad]&gt;0){
                            global.origen = "facil";
                            global.a=global.faciles[0];
                            var numa=global.faciles[0];
                            for(x= 0; x&lt;array_length_1d(global.faciles)-1; x++){
                                global.faciles[x] = global.faciles[x+1];
                            }
                            global.faciles[array_length_1d(global.faciles)-1]= numa; 
                            global.eFacil[global.dificultad]--;
                        }
                        else{
                            if(global.eMedio[global.dificultad]&gt;0){
                                global.origen = "medio";
                                global.a=global.medios[0];
                                var numa=global.medios[0];
                                for(x= 0; x&lt;array_length_1d(global.medios)-1; x++){
                                    global.medios[x] = global.medios[x+1];
                                }
                                global.medios[array_length_1d(global.medios)-1]= numa; 
                                global.eMedio[global.dificultad]--;
                            }
                            else{
                                if(global.eDificil[global.dificultad]&gt;0){
                                    global.origen = "dificil";
                                    global.a=global.dificiles[0];
                                    var numa=global.dificiles[0];
                                    for(x= 0; x&lt;array_length_1d(global.dificiles)-1; x++){
                                        global.dificiles[x] = global.dificiles[x+1];
                                    }
                                    global.dificiles[array_length_1d(global.dificiles)-1]= numa; 
                                    global.eDificil[global.dificultad]--;
                                }
                                else {
                                    if(global.eMalas[global.dificultad]&gt;0){
                                        global.origen = "memoria_malas";
                                        global.a=global.memMalasA[0];
                                        global.b=global.memMalasB[0];
                                        var numa=global.memMalasA[0];
                                        var numb=global.memMalasB[0];
                                        for(x= 0; x&lt;array_length_1d(global.memMalasA)-1; x++){
                                            global.memMalasA[x] = global.memMalasA[x+1];
                                            global.memMalasB[x] = global.memMalasB[x+1];
                                        }
                                        global.memMalasA[array_length_1d(global.memMalasA)-1]= numa;
                                        global.memMalasB[array_length_1d(global.memMalasB)-1]= numb;
                                        global.eMalas[global.dificultad]--;
                                    }
                                }
                            }
                        }
                    
                    }
                }

                if(ordenRandom==2){
                    if(global.eFacil[global.dificultad]&gt;0){
                        global.origen = "facil";
                        global.a=global.faciles[0];
                        var numa=global.faciles[0];
                        for(x= 0; x&lt;array_length_1d(global.faciles)-1; x++){
                            global.faciles[x] = global.faciles[x+1];
                        }
                        global.faciles[array_length_1d(global.faciles)-1]= numa; 
                        global.eFacil[global.dificultad]--;
                    }
                    else {
                        if(global.eMedio[global.dificultad]&gt;0){
                            global.origen = "medio";
                            global.a=global.medios[0];
                            var numa=global.medios[0];
                            for(x= 0; x&lt;array_length_1d(global.medios)-1; x++){
                                global.medios[x] = global.medios[x+1];
                            }
                            global.medios[array_length_1d(global.medios)-1]= numa; 
                            global.eMedio[global.dificultad]--;
                        }
                        else{
                            if(global.eDificil[global.dificultad]&gt;0){
                                global.origen = "dificil";
                                global.a=global.dificiles[0];
                                var numa=global.dificiles[0];
                                for(x= 0; x&lt;array_length_1d(global.dificiles)-1; x++){
                                    global.dificiles[x] = global.dificiles[x+1];
                                }
                                global.dificiles[array_length_1d(global.dificiles)-1]= numa; 
                                global.eDificil[global.dificultad]--;
                            }
                            else{
                                if(global.eBuenas[global.dificultad]&gt;0){
                                    global.origen = "memoria_buenas";
                                    global.a=global.memBuenasA[0];
                                    global.b=global.memBuenasB[0];
                                    var numa=global.memBuenasA[0];
                                    var numb=global.memBuenasB[0];
                                    for(x= 0; x&lt;array_length_1d(global.memBuenasA)-1; x++){
                                        global.memBuenasA[x] = global.memBuenasA[x+1];
                                        global.memBuenasB[x] = global.memBuenasB[x+1];
                                    }
                                    global.memBuenasA[array_length_1d(global.memBuenasA)-1]= numa;
                                    global.memBuenasB[array_length_1d(global.memBuenasB)-1]= numb;
                                    global.eBuenas[global.dificultad]--;
                                }
                                else {
                                    if(global.eMalas[global.dificultad]&gt;0){
                                        global.origen = "memoria_malas";
                                        global.a=global.memMalasA[0];
                                        global.b=global.memMalasB[0];
                                        var numa=global.memMalasA[0];
                                        var numb=global.memMalasB[0];
                                        for(x= 0; x&lt;array_length_1d(global.memMalasA)-1; x++){
                                            global.memMalasA[x] = global.memMalasA[x+1];
                                            global.memMalasB[x] = global.memMalasB[x+1];
                                        }
                                        global.memMalasA[array_length_1d(global.memMalasA)-1]= numa;
                                        global.memMalasB[array_length_1d(global.memMalasB)-1]= numb;
                                        global.eMalas[global.dificultad]--;
                                    }
                                }
                            }
                        }
                    
                    }
                }

                if(ordenRandom==3){
                    if(global.eMedio[global.dificultad]&gt;0){
                        global.origen = "medio";
                        global.a=global.medios[0];
                        var numa=global.medios[0];
                        for(x= 0; x&lt;array_length_1d(global.medios)-1; x++){
                            global.medios[x] = global.medios[x+1];
                        }
                        global.medios[array_length_1d(global.medios)-1]= numa; 
                        global.eMedio[global.dificultad]--;
                    }
                    else {
                        if(global.eDificil[global.dificultad]&gt;0){
                            global.origen = "dificil";
                            global.a=global.dificiles[0];
                            var numa=global.dificiles[0];
                            for(x= 0; x&lt;array_length_1d(global.dificiles)-1; x++){
                                global.dificiles[x] = global.dificiles[x+1];
                            }
                            global.dificiles[array_length_1d(global.dificiles)-1]= numa; 
                            global.eDificil[global.dificultad]--;
                        }
                        else{
                            if(global.eBuenas[global.dificultad]&gt;0){
                                global.origen = "memoria_buenas";
                                global.a=global.memBuenasA[0];
                                global.b=global.memBuenasB[0];
                                var numa=global.memBuenasA[0];
                                var numb=global.memBuenasB[0];
                                for(x= 0; x&lt;array_length_1d(global.memBuenasA)-1; x++){
                                    global.memBuenasA[x] = global.memBuenasA[x+1];
                                    global.memBuenasB[x] = global.memBuenasB[x+1];
                                }
                                global.memBuenasA[array_length_1d(global.memBuenasA)-1]= numa;
                                global.memBuenasB[array_length_1d(global.memBuenasB)-1]= numb;
                                global.eBuenas[global.dificultad]--;
                            }
                            else{
                                if(global.eMalas[global.dificultad]&gt;0){
                                    global.origen = "memoria_malas";
                                    global.a=global.memMalasA[0];
                                    global.b=global.memMalasB[0];
                                    var numa=global.memMalasA[0];
                                    var numb=global.memMalasB[0];
                                    for(x= 0; x&lt;array_length_1d(global.memMalasA)-1; x++){
                                        global.memMalasA[x] = global.memMalasA[x+1];
                                        global.memMalasB[x] = global.memMalasB[x+1];
                                    }
                                    global.memMalasA[array_length_1d(global.memMalasA)-1]= numa;
                                    global.memMalasB[array_length_1d(global.memMalasB)-1]= numb;
                                    global.eMalas[global.dificultad]--;
                                }
                                else {
                                    if(global.eFacil[global.dificultad]&gt;0){
                                        global.origen = "facil";
                                        global.a=global.faciles[0];
                                        var numa=global.faciles[0];
                                        for(x= 0; x&lt;array_length_1d(global.faciles)-1; x++){
                                            global.faciles[x] = global.faciles[x+1];
                                        }
                                        global.faciles[array_length_1d(global.faciles)-1]= numa; 
                                        global.eFacil[global.dificultad]--;
                                    }
                                }
                            }
                        }
                    
                    }
                }

                if(ordenRandom==4){
                    if(global.eDificil[global.dificultad]&gt;0){
                        global.origen = "dificil";
                        global.a=global.dificiles[0];
                        var numa=global.dificiles[0];
                        for(x= 0; x&lt;array_length_1d(global.dificiles)-1; x++){
                            global.dificiles[x] = global.dificiles[x+1];
                        }
                        global.dificiles[array_length_1d(global.dificiles)-1]= numa; 
                        global.eDificil[global.dificultad]--;
                    }
                    else {
                        if(global.eMalas[global.dificultad]&gt;0){
                            global.origen = "memoria_malas";
                            global.a=global.memMalasA[0];
                            global.b=global.memMalasB[0];
                            var numa=global.memMalasA[0];
                            var numb=global.memMalasB[0];
                            for(x= 0; x&lt;array_length_1d(global.memMalasA)-1; x++){
                                global.memMalasA[x] = global.memMalasA[x+1];
                                global.memMalasB[x] = global.memMalasB[x+1];
                            }
                            global.memMalasA[array_length_1d(global.memMalasA)-1]= numa;
                            global.memMalasB[array_length_1d(global.memMalasB)-1]= numb;
                            global.eMalas[global.dificultad]--;
                        }
                        else{
                            if(global.eBuenas[global.dificultad]&gt;0){
                                global.origen = "memoria_buenas";
                                global.a=global.memBuenasA[0];
                                global.b=global.memBuenasB[0];
                                var numa=global.memBuenasA[0];
                                var numb=global.memBuenasB[0];
                                for(x= 0; x&lt;array_length_1d(global.memBuenasA)-1; x++){
                                    global.memBuenasA[x] = global.memBuenasA[x+1];
                                    global.memBuenasB[x] = global.memBuenasB[x+1];
                                }
                                global.memBuenasA[array_length_1d(global.memBuenasA)-1]= numa;
                                global.memBuenasB[array_length_1d(global.memBuenasB)-1]= numb;
                                global.eBuenas[global.dificultad]--;
                            }
                            else{
                                if(global.eFacil[global.dificultad]&gt;0){
                                    global.origen = "facil";
                                    global.a=global.faciles[0];
                                    var numa=global.faciles[0];
                                    for(x= 0; x&lt;array_length_1d(global.faciles)-1; x++){
                                        global.faciles[x] = global.faciles[x+1];
                                    }
                                    global.faciles[array_length_1d(global.faciles)-1]= numa; 
                                    global.eFacil[global.dificultad]--;
                                }
                                else {
                                    if(global.eMedio[global.dificultad]&gt;0){
                                        global.origen = "medio";
                                        global.a=global.medios[0];
                                        var numa=global.medios[0];
                                        for(x= 0; x&lt;array_length_1d(global.medios)-1; x++){
                                            global.medios[x] = global.medios[x+1];
                                        }
                                        global.medios[array_length_1d(global.medios)-1]= numa; 
                                        global.eMedio[global.dificultad]--;
                                    }
                                }
                            }
                        }
                    
                    }
                }

                if(ordenRandom==5){
                    if(global.eMalas[global.dificultad]&gt;0){
                        global.origen = "memoria_malas";
                        global.a=global.memMalasA[0];
                        global.b=global.memMalasB[0];
                        var numa=global.memMalasA[0];
                        var numb=global.memMalasB[0];
                        for(x= 0; x&lt;array_length_1d(global.memMalasA)-1; x++){
                            global.memMalasA[x] = global.memMalasA[x+1];
                            global.memMalasB[x] = global.memMalasB[x+1];
                        }
                        global.memMalasA[array_length_1d(global.memMalasA)-1]= numa;
                        global.memMalasB[array_length_1d(global.memMalasB)-1]= numb;
                        global.eMalas[global.dificultad]--;
                    }
                    else {
                        if(global.eFacil[global.dificultad]&gt;0){
                            global.origen = "facil";
                            global.a=global.faciles[0];
                            var numa=global.faciles[0];
                            for(x= 0; x&lt;array_length_1d(global.faciles)-1; x++){
                                global.faciles[x] = global.faciles[x+1];
                            }
                            global.faciles[array_length_1d(global.faciles)-1]= numa; 
                            global.eFacil[global.dificultad]--;
                        }
                        else{
                            if(global.eMedio[global.dificultad]&gt;0){
                                global.origen = "medio";
                                global.a=global.medios[0];
                                var numa=global.medios[0];
                                for(x= 0; x&lt;array_length_1d(global.medios)-1; x++){
                                    global.medios[x] = global.medios[x+1];
                                }
                                global.medios[array_length_1d(global.medios)-1]= numa; 
                                global.eMedio[global.dificultad]--;
                            }
                            else{
                                if(global.eDificil[global.dificultad]&gt;0){
                                    global.origen = "dificil";
                                    global.a=global.dificiles[0];
                                    var numa=global.dificiles[0];
                                    for(x= 0; x&lt;array_length_1d(global.dificiles)-1; x++){
                                        global.dificiles[x] = global.dificiles[x+1];
                                    }
                                    global.dificiles[array_length_1d(global.dificiles)-1]= numa; 
                                    global.eDificil[global.dificultad]--;
                                }
                                else {
                                    if(global.eBuenas[global.dificultad]&gt;0){
                                        global.origen = "memoria_buenas";
                                        global.a=global.memBuenasA[0];
                                        global.b=global.memBuenasB[0];
                                        var numa=global.memBuenasA[0];
                                        var numb=global.memBuenasB[0];
                                        for(x= 0; x&lt;array_length_1d(global.memBuenasA)-1; x++){
                                            global.memBuenasA[x] = global.memBuenasA[x+1];
                                            global.memBuenasB[x] = global.memBuenasB[x+1];
                                        }
                                        global.memBuenasA[array_length_1d(global.memBuenasA)-1]= numa;
                                        global.memBuenasB[array_length_1d(global.memBuenasB)-1]= numb;
                                        global.eBuenas[global.dificultad]--;
                                    }
                                }
                            }
                        }
                    
                    }
                }
                //FIN ORDEN
                
                global.r=global.a*global.b;
                
            
            }
    
    }
    
    
    
    
    //USUARIO DISPARA A UNA RESPUESTA
    randomize();
    var buenamala = choose(floor(random_range(1,10)));
    if(buenamala&lt;=4 ){
        global.numM=global.r;
    }
    else{
        global.numM=0;
    }
    //FIN
    
    //CODIGO DEL OBJ_BULLET CHOCANDO CON ASTEROIDE
    if(!global.respondida) {
        global.intentos++;
        global.estado = "incorrecta";
        ds_map_add(global.intentosRonda, global.intentos, global.numM);
    }
    if(global.r == global.numM){
        global.malasSeguidas=0;
        global.nrondasc++;
        if(global.wave&lt;9){
            global.oBuenas[global.a]++;
            global.oBuenas[global.b]++;
        }
        global.respondida = true;
        global.puntaje += 10;
        global.correctas++;
        if(global.nrondasc&gt;global.nrondas) global.nrondas=global.nrondasc;
        
        global.tiempoUltimaRespuesta = global.segundos - global.aparicionCorrecta;
        global.bot2=1;
        global.estado = "correcta";
    }else{
        global.malasSeguidas++;
        global.nrondasc=0;

        if(global.puntaje&gt;=10)    global.puntaje -=10;
        global.incorrectas++;
        global.bot2=1;
    }
    global.ccont++;
    //FIN
    
    //CODIGO SPAWNER
    show_debug_message("Número ejercicio:")
    show_debug_message(global.numEjercicio);
    show_debug_message("multiplo A:")
    show_debug_message(global.a)
    show_debug_message("multiplo B:")
    show_debug_message(global.b)
    show_debug_message("Respuesta:")
    show_debug_message(global.r)
    show_debug_message("Intentos:")
    show_debug_message(global.intentos);
    show_debug_message("Tiempo ultima ronda:")
    show_debug_message(global.tiempoUltimaRespuesta);
    show_debug_message("Estado de la respuesta:")
    show_debug_message(global.estado);
    
    //GUARDAR EN MEMORIA
    if(global.estado=="correcta"){
        global.memBuenasA[global.contMemBuenas]=global.a;
        global.memBuenasB[global.contMemBuenas]=global.b;
        global.contMemBuenas++;
        if(global.contMemMalas&gt;0){
            var arrayAuxA = undefined;
            var arrayAuxB = undefined;
            var contAux = 0;
            for(i=0;i&lt;global.contMemMalas;i++){
                if(global.a!=global.memMalasA[i] &amp;&amp; global.b!=global.memMalasB[i]){
                   arrayAuxA[contAux]=global.memMalasA[i] 
                   arrayAuxB[contAux]=global.memMalasB[i]
                   contAux++; 
                }
            }
            global.memMalasA = undefined;
            global.memMalasB = undefined;
            global.memMalasA = arrayAuxA;
            global.memMalasB = arrayAuxB;
            global.contMemMalas = contAux;
            var arrayAuxA = undefined;
            var arrayAuxB = undefined;
            var contAux = 0;
        }
    }
    if(global.estado=="incorrecta"){
        global.memMalasA[global.contMemMalas]=global.a;
        global.memMalasB[global.contMemMalas]=global.b;
        global.contMemMalas++;
        if(global.contMemBuenas&gt;0){
            var arrayAuxA = undefined;
            var arrayAuxB = undefined;
            var contAux = 0;
            for(i=0;i&lt;global.contMemBuenas;i++){
                if(global.a!=global.memBuenasA[i] &amp;&amp; global.b!=global.memBuenasB[i]){
                   arrayAuxA[contAux]=global.memBuenasA[i] 
                   arrayAuxB[contAux]=global.memBuenasB[i]
                   contAux++; 
                }
            }
            global.memBuenasA = undefined;
            global.memBuenasB = undefined;
            global.memBuenasA = arrayAuxA;
            global.memBuenasB = arrayAuxB;
            global.contMemBuenas = contAux;
            var arrayAuxA = undefined;
            var arrayAuxB = undefined;
            var contAux = 0;
        }
    }
    //FIN
    
    roundMap = ds_map_create();
    ds_map_add(roundMap, "multiplo_a", global.a);
    ds_map_add(roundMap, "multiplo_b", global.b);
    ds_map_add(roundMap, "respuesta_correcta", global.r);
    ds_map_add(roundMap, "total_intentos", global.intentos);
    ds_map_add(roundMap, "ultima_respuesta", global.numM);
    ds_map_add(roundMap, "tiempo_respuesta", global.tiempoUltimaRespuesta);
    ds_map_add(roundMap, "estado_respuesta",global.estado);
    ds_map_add(roundMap, "etapa",(global.dificultad+1));
    ds_map_add(roundMap, "origen", global.origen);
    
    var copiaIntentosRonda = ds_map_create();
    ds_map_copy(copiaIntentosRonda, global.intentosRonda);
    ds_map_add_map(roundMap, "intentos", copiaIntentosRonda);
    
    
    var copiaRonda = ds_map_create();
    ds_map_copy(copiaRonda, roundMap);
    ds_map_add_map(global.bigMap, global.numEjercicio, copiaRonda);
    
    var in = json_encode(global.intentosRonda);
    show_debug_message(in);
    var cin = json_encode(copiaIntentosRonda);
    show_debug_message(cin);
    var ro = json_encode(roundMap);
    show_debug_message(ro);
    var cro = json_encode(copiaRonda);
    show_debug_message(cro);
    
    ds_map_clear(global.intentosRonda);
    //ds_map_clear(roundMap);
    
    global.wave ++;
    global.waveFake++;
    global.waveUltraFake++;

    global.intentos = 0; /*CUANDO YA PASARON TODOS LOS ASTEROIDES (RONDA TERMINADA
                                EL CONTADOR DE INTENTOS SE RESETEA*/
    global.numEjercicio++;
    global.respondida = false;
    global.tiempoUltimaRespuesta = 0;
    global.aparicionCorrecta = 0;
    global.segundos = 0;
    global.estado = "omitida";
    
}

 if(!is_undefined(global.faciles))
        ds_map_add(global.dificultadesMap, "faciles", global.faciles);
    else 
        ds_map_add(global.dificultadesMap, "faciles", "null");

    if(!is_undefined(global.medios)) 
        ds_map_add(global.dificultadesMap, "medios", global.medios);
    else 
        ds_map_add(global.dificultadesMap, "medios", "null");

    if(!is_undefined(global.dificiles))
        ds_map_add(global.dificultadesMap, "dificiles", global.dificiles)
    else
        ds_map_add(global.dificultadesMap, "dificiles", "null");


var jsonEjercicios = json_encode(global.bigMap);
var jsonExtras = json_encode(global.dificultadesMap);

show_debug_message(jsonEjercicios);
show_debug_message(jsonExtras);

var data_send = "puntaje="+string(global.puntaje)+
    "&amp;correctas="+string(global.correctas)+
    "&amp;incorrectas="+string(global.incorrectas)+
    "&amp;ejercicios="+string(global.wave)+
    "&amp;nRondas="+string(global.nrondas)+
    "&amp;jsonEjercicios="+string(jsonEjercicios)+
    "&amp;jsonExtras="+string(jsonExtras);
    
post = http_post_string("async.php", data_send);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
